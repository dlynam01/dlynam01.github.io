<!DOCTYPE html>
<html lang="en">
<link>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
          integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css"
          integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"
            integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
            crossorigin="anonymous"></script>
    <style>
        .panel-default > .panel-heading {
            border-radius: 0;
            background-color: white;
            background-image: none;
        }

        .more-less {
            float: right;
        }

        .demo {
            width: 400px;
        }

    </style>
    <script type="application/javascript">
        /*******************************
         * ACCORDION WITH TOGGLE ICONS
         *******************************/
        function toggleIcon(e) {
            console.log('Test');
            $(e.target)
                    .prev('.panel-heading')
                    .find(".more-less")
                    .toggleClass('glyphicon-plus glyphicon-minus');
        }
        $(document).ready(function () {
            var $panel = $(".panel-group");
            console.log('test');
            $panel.on('hidden.bs.collapse', toggleIcon);
            $panel.on('shown.bs.collapse', toggleIcon);
            var pageOptions = [1,2,3,4,5];

            var icon = '<i class="more-less glyphicon glyphicon-plus"></i>';

            pageOptions.forEach(function(page){
                var templateContent = document.querySelector('#myTemplate').content;
                var headingId = 'heading' + page;
                var bodyId = 'collapse' + page;

                templateContent.querySelector('.panel-heading').id = headingId;
                var anchorTag = templateContent.querySelector('a');
                anchorTag.setAttribute('aria-controls',bodyId);
                anchorTag.setAttribute('href','#'+bodyId);
                var element = templateContent.querySelector('.panel-collapse');
                element.setAttribute('aria-labelledby',headingId);
                element.id = bodyId;
                var templateAnchor = anchorTag;
                var textNode = document.createTextNode('This is template '+ page);
                templateAnchor.appendChild(textNode);
                document.querySelector('#accordion').appendChild(document.importNode(templateContent,true));
            });
        });

    </script>
</head>
<body>
<div class="container demo">


    <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">

        <template id="myTemplate">


            <div class="panel panel-default">
                <div class="panel-heading" role="tab">
                    <h4 class="panel-title">
                        <a role="button" data-toggle="collapse" data-parent="#accordion"
                           aria-expanded="true">
                            <i class="more-less fa fa-chevron-right"></i>
                            <!--<i class="more-less glyphicon glyphicon-plus"></i>-->
                        </a>
                    </h4>
                </div>
                <div class="panel-collapse collapse" role="tabpanel">
                    <div class="panel-body">
                        Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid.
                        3
                        wolf moon officia aute, non cupidatat skateboard dolor brunch. Food truck quinoa nesciunt
                        laborum
                        eiusmod. Brunch 3 wolf moon tempor, sunt aliqua put a bird on it squid single-origin coffee
                        nulla
                        assumenda shoreditch et. Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred
                        nesciunt
                        sapiente ea proident. Ad vegan excepteur butcher vice lomo. Leggings occaecat craft beer
                        farm-to-table, raw denim aesthetic synth nesciunt you probably haven't heard of them accusamus
                        labore sustainable VHS.
                    </div>
                </div>
            </div>
        </template>
    </div><!-- panel-group -->


</div><!-- container -->

<footer class="demo-footer">
    <a href="http://www.bootpen.com" target="_blank">Get more code snippets</a>
</footer><!-- container --><!-- container --></body>
</html>